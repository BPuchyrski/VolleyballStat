<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Statystyki Siatk贸wka</title>

    <link rel="stylesheet" href="style.css" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  </head>
  <body>
    <div id="konfiguracja-skladu">
      <h1> Konfigurator Skadu - Statystyki Siatk贸wka</h1>
      <p>
        Wprowad藕 skady w formacie: **Numer Imi Nazwisko** (jedna linia na
        zawodnika).
      </p>

      <div style="display: flex; gap: 20px">
        <div style="flex: 1">
          <h2>Zesp贸 A</h2>
          <textarea
            id="skladA"
            rows="10"
            cols="40"
            placeholder="np.&#10;1 Jan Kowalski&#10;5 Piotr Nowak&#10;..."
          ></textarea>
        </div>
        <div style="flex: 1">
          <h2>Zesp贸 B (Opcjonalnie)</h2>
          <textarea
            id="skladB"
            rows="10"
            cols="40"
            placeholder="np.&#10;2 Micha Zajc&#10;6 Adam Kruk&#10;..."
          ></textarea>
        </div>
      </div>

      <button
        onclick="inicjujMecz()"
        style="
          margin-top: 20px;
          padding: 10px 20px;
          background-color: #2c3e50;
          color: white;
          border: none;
          border-radius: 5px;
        "
      >
        Rozpocznij Mecz i Wczytaj Skady
      </button>
    </div>

    <div id="aplikacja-statystyczna">
      <h1> Statystyki Meczu</h1>

      <div id="wynik-sety">
        <div class="wynik-zespol">
          <h3>Zesp贸 A</h3>
          <div class="score" id="punktyA">0</div>
          <div class="set-score" id="setyA">Sety: 0</div>
          <div class="stat-zespol-small">
            Ataki Kontynuowane: <span id="atakiKontynuowaneA">0</span>
          </div>
          <div class="stat-zespol-small">
            Bdy Wasne: <span id="bledyWlasneA">0</span>
          </div>
        </div>
        <div class="wynik-zespol">
          <h3>Zesp贸 B</h3>
          <div class="score" id="punktyB">0</div>
          <div class="set-score" id="setyB">Sety: 0</div>
          <div class="stat-zespol-small">
            Ataki Kontynuowane: <span id="atakiKontynuowaneB">0</span>
          </div>
          <div class="stat-zespol-small">
            Bdy Wasne: <span id="bledyWlasneB">0</span>
          </div>
        </div>
      </div>

      <div id="zakres-setow-container">
        <label for="zakres-setow">Poka偶 statystyki za:</label>
        <select
          id="zakres-setow"
          onchange="pokazPodsumowanie(); pokazPodsumowanieZespolu();"
        >
          <option value="CURRENT">Aktualny Set</option>
          <option value="ALL">Cay Mecz</option>
        </select>
        <button
          onclick="eksportujDoPDF()"
          style="
            padding: 5px 10px;
            background-color: #e74c3c;
            color: white;
            border: none;
            border-radius: 4px;
          "
        >
          Eksportuj do PDF
        </button>
      </div>

      <h2>
        Wyb贸r Zawodnika:
        <span id="wybrany-zawodnik-info" style="color: #3498db"
          >-- Brak --</span
        >
      </h2>

      <div class="zespol-section">
        <div class="lista-zawodnikow" id="zawodnicyA"></div>
        <div class="lista-zawodnikow" id="zawodnicyB"></div>
      </div>

      <h2>Panel Akcji Indywidualnych (Wymaga wybranego zawodnika)</h2>
      <div id="panel-akcji">
        <div>
          <h3>PRZYJCIE / OBRONA</h3>
          <button
            onclick="dodajPrzyjecie(1, 'Q')"
            class="przycisk-przyjecie"
            data-shortcut="Q"
          >
            Przyjcie Dokadne (1) <span class="shortcut-key">Shift + Q</span>
          </button>
          <button
            onclick="dodajPrzyjecie(2, 'W')"
            class="przycisk-przyjecie"
            data-shortcut="W"
          >
            Przyjcie Za 3m (2) <span class="shortcut-key">Shift + W</span>
          </button>
          <button
            onclick="dodajPrzyjecie(3, 'E')"
            class="przycisk-przyjecie"
            data-shortcut="E"
          >
            Przyjcie Niedokadne (3)
            <span class="shortcut-key">Shift + E</span>
          </button>
          <button
            onclick="dodajPrzyjecie(4, 'R')"
            class="przycisk-blad"
            data-shortcut="R"
          >
            Bd w Przyjciu (4) (Pkt dla Przec.)
            <span class="shortcut-key">Shift + R</span>
          </button>
          <button
            onclick="dodajObrone('F')"
            class="przycisk-obrona"
            data-shortcut="F"
          >
            Obrona <span class="shortcut-key">Shift + F</span>
          </button>
        </div>

        <div>
          <h3>ATAK</h3>
          <button
            onclick="dodajAtak(1, 'A')"
            class="przycisk-atak"
            data-shortcut="A"
          >
            Atak Skuteczny (Pkt) <span class="shortcut-key">Shift + A</span>
          </button>
          <button
            onclick="dodajAtak(2, 'S')"
            class="przycisk-atak"
            data-shortcut="S"
          >
            Atak Kontynuowany (Broniony)
            <span class="shortcut-key">Shift + S</span>
          </button>
          <button
            onclick="dodajAtak(3, 'D')"
            class="przycisk-blad"
            data-shortcut="D"
          >
            Bd w Ataku (aut) (Pkt dla Przec.)
            <span class="shortcut-key">Shift + D</span>
          </button>
          <button
            onclick="dodajAtak(4, 'G')"
            class="przycisk-blad"
            data-shortcut="G"
          >
            Atak Zablokowany (Pkt dla Przec.)
            <span class="shortcut-key">Shift + G</span>
          </button>
        </div>

        <div>
          <h3>SERWIS</h3>
          <button
            onclick="dodajAs('Z')"
            class="przycisk-serwis"
            data-shortcut="Z"
          >
            As Serwisowy (Pkt) <span class="shortcut-key">Shift + Z</span>
          </button>
          <button
            onclick="dodajZagrywkeKontynuowana('X')"
            class="przycisk-serwis"
            data-shortcut="X"
          >
            Zagrywka Kontynuowana (Licznik Akcji)
            <span class="shortcut-key">Shift + X</span>
          </button>
          <button
            onclick="dodajBladSerwisowy('C')"
            class="przycisk-blad"
            data-shortcut="C"
          >
            Bd Serwisowy (Pkt dla Przec.)
            <span class="shortcut-key">Shift + C</span>
          </button>
        </div>

        <div>
          <h3>BLOK / BDY</h3>
          <button
            onclick="dodajBlokPunktowy('T')"
            class="przycisk-blok"
            data-shortcut="T"
          >
            Blok Punktowy (Pkt) <span class="shortcut-key">Shift + T</span>
          </button>
          <button
            onclick="dodajBlokDotkniecie('Y')"
            class="przycisk-blok"
            data-shortcut="Y"
          >
            Dotknicie Bloku <span class="shortcut-key">Shift + Y</span>
          </button>
          <button
            onclick="dodajBladBloku('U')"
            class="przycisk-blad"
            data-shortcut="U"
          >
            Bd Bloku (Pkt dla Przec.)
            <span class="shortcut-key">Shift + U</span>
          </button>
          <button
            onclick="dodajInnyBlad('P')"
            class="przycisk-blad"
            data-shortcut="P"
          >
            Inny Bd (siatka/przejcie) (Pkt dla Przec.)
            <span class="shortcut-key">Shift + P</span>
          </button>
        </div>

        <div>
          <h3>PUNKT DLA PRZECIWNIKA (Niespecyficzne)</h3>
          <button
            onclick="dodajPunktPrzeciwnikaA('I')"
            class="przycisk-przeciwnik"
            data-shortcut="I"
          >
            Punkt dla Zespou A <span class="shortcut-key">Shift + I</span>
          </button>
          <button
            onclick="dodajPunktPrzeciwnikaB('O')"
            class="przycisk-przeciwnik"
            data-shortcut="O"
          >
            Punkt dla Zespou B <span class="shortcut-key">Shift + O</span>
          </button>
        </div>
      </div>

      <div id="podsumowanie-zawodnika" style="display: none">
        <h2> Podsumowanie Indywidualne</h2>
        <p id="podsumowanie-imie-nr"></p>
        <div id="szczegoly-zawodnika"></div>
      </div>

      <div id="podsumowanie-zespolu"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
